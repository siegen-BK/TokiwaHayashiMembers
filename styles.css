/* ===== カラー／寸法（白黒のみ） ===== */
:root{
  --black:#000;
  --white:#fff;

  /* 左レーン幅（入替ボタン専用の外側レーン） */
  --swap-lane-width: 48px;

  /* 罫線と余白 */
  --border-w:1px;
  --cell-px:8px;
}

/* ===== ベース ===== */
*,
*::before,
*::after { box-sizing:border-box; }
html,body{
  margin:0; padding:0;
  background:var(--white); color:var(--black);
  font-family: system-ui, -apple-system, "Segoe UI", Roboto, "Noto Sans JP", "Hiragino Kaku Gothic ProN", Meiryo, sans-serif;
}
img,svg { filter:none; }

/* ===== スクロール領域（自動でこのクラスが付与されます） =====
   - テーブルの“左外”にレーンを確保するために padding-left だけ与える
   - これによりテーブルの列幅や罫線は一切変えない（押し広げない） */
.assign-scroll{
  position: relative;
  background: var(--white);
  /* 既存の overflow/height は **そのまま**。ここでは上書きしない */
  padding-left: var(--swap-lane-width);
}

/* ===== テーブル（自動で .assign-table が付与されます） ===== */
.assign-table{
  width:100%;
  border-collapse: collapse;
  table-layout: fixed;
  background: var(--white);
  color: var(--black);
}
.assign-table thead th{
  position: sticky;
  top: 0;               /* スクロール領域内で固定 */
  z-index: 5;           /* 行やボタンより前、マスクより下でOK */
  background: var(--white);
  border: var(--border-w) solid var(--black);
  white-space: nowrap;
}
.assign-table tbody td,
.assign-table tbody th{
  border: var(--border-w) solid var(--black);
  padding: var(--cell-px);
  background: var(--white);
  color: var(--black);
  white-space: nowrap;
  text-overflow: ellipsis;
  overflow: hidden;
}

/* ===== 左レーン（行間ボタン用） =====
   - スクリプトが assign-scroll 内に生成
   - “表の左外”空間（padding-left 部分）にだけ存在し、テーブルには不干渉 */
.swap-lane{
  position: absolute;
  inset: 0 auto 0 0;           /* 左端に貼り付け */
  width: var(--swap-lane-width);
  background: var(--white);
  /* 罫線は付けない（テーブル左罫線と二重線になるのを避ける） */
  z-index: 2;                  /* 行（デフォ）より上、thead(5)より下で十分 */
  pointer-events: none;        /* レーン自体はクリックを通す（ボタンは有効化） */
}

/* ヘッダー直下の空白を自動確保（JSが CSS 変数 --thead-h を設定） */
.swap-lane-inner{
  position: absolute;
  top: var(--thead-h, 0px);
  left: 0; right: 0; bottom: 0;
  pointer-events: none;
}

/* 個々の入替ボタン（行間1つ） */
.swap-btn{
  position: absolute;
  left: 8px;
  width: calc(var(--swap-lane-width) - 16px);
  height: 20px;                /* 行間の中央に置く小ボタン */
  line-height: 18px;
  text-align: center;
  background: var(--white);
  color: var(--black);
  border: var(--border-w) solid var(--black);
  cursor: pointer;
  user-select: none;
  pointer-events: auto;        /* ボタンはクリック可能 */
}
.swap-btn:active{ transform: scale(0.98); }

/* ===== ヘッダーマスク（ヘッダーより上にボタンを絶対に出さない） =====
   - 視覚的なチラ見えを防ぐ白幕。thead の高さに JS で合わせる */
.header-mask{
  position: sticky;
  top: 0;
  height: var(--thead-h, 0px);
  background: var(--white);
  border-bottom: var(--border-w) solid var(--black);
  z-index: 6; /* thead(5)より上、ボタン(2)より上 */
  pointer-events: none;
}
